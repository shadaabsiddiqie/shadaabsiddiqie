<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Engineer | Shadaab Siddiqie</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Lighter Slate 100 */
            color: #1a202c; /* Darker text for better contrast */
            line-height: 1.6;
        }
        /* Ensure the main content container does not overflow */
        .container {
            max-width: 960px;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0; /* Slate 200 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8; /* Slate 400 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* Slate 500 */
            cursor: grab; /* Indicate it's draggable */
        }

        /* Enhanced section hover effect */
        .section-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        /* Specific styling for the profile bar */
        .profile-bar {
            background: linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%); /* Light blue gradient */
            border-bottom: 5px solid #60a5fa; /* Blue 400 */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            padding: 2.5rem 1.5rem; /* Increased padding */
            display: flex;
            flex-direction: column; /* Stack on small screens */
            align-items: center;
            text-align: center;
            margin-bottom: 3rem; /* Space below the bar */
            border-radius: 0 0 20px 20px; /* Rounded bottom corners */
        }

        @media (min-width: 768px) { /* Medium screens and up */
            .profile-bar {
                flex-direction: row; /* Side-by-side on larger screens */
                text-align: left;
                padding: 3rem 4rem;
                border-radius: 0 0 30px 30px;
            }
        }

        /* Styling for the icon container within the tile */
        .icon-container {
            background-color: #fff; /* White background for the icon */
            border-radius: 9999px; /* Full rounded for circle */
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow for the icon */
        }

        /* Specific styles for lifecycle tiles */
        .lifecycle-tile {
            min-height: 240px; /* Ensures consistent height for aesthetic alignment */
            z-index: 10; /* Ensure tiles are above the SVG path */
            position: relative; /* Needed for z-index to work */
        }

        /* Ensure SVG path is on top of tiles */
        #flow-path-svg {
            z-index: 15; /* Higher z-index to be above tiles */
        }
        #moving-arrow {
            z-index: 20; /* Arrow should always be on top */
            position: absolute; /* Positioned relative to the SVG parent */
        }
    </style>
</head>
<body class="antialiased">
    <!-- Profile Bar Section (New Header) -->
    <header class="profile-bar w-full">
        <div class="flex-1 mb-8 md:mb-0 md:mr-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-blue-900 mb-3 md:mb-4">
                Data Engineer
            </h1>
            <p class="text-xl md:text-2xl font-semibold text-slate-800 mb-6 md:mb-8">
                Shadaab Siddiqie
            </p>
            <p class="text-md md:text-lg text-slate-700 leading-relaxed max-w-2xl mx-auto md:mx-0">
                My journey into the world of data began with a profound curiosity for how information shapes understanding and innovation. I am driven by the art of transforming raw, disparate data into coherent, actionable insights. For me, data isn't just numbers and records; it's the foundational language of progress, holding the keys to solving complex challenges and unlocking new possibilities.
            </p>
        </div>
        <div class="flex-shrink-0">
            <!-- Profile Picture -->
            <img src="https://placehold.co/200x200/667EEA/FFFFFF?text=User"
                 alt="Profile Picture of Shadaab Siddiqie"
                 class="w-48 h-48 md:w-56 md:h-56 rounded-full mx-auto object-cover shadow-2xl border-4 border-blue-500 transform hover:scale-105 transition-transform duration-300 ease-in-out"
                 onerror="this.onerror=null;this.src='https://placehold.co/200x200/4B5563/FFFFFF?text=Error';"
            >
        </div>
    </header>

    <div class="container mx-auto p-6 md:p-10 lg:p-12">

        <!-- My Data Philosophy Section -->
        <section class="mb-12 p-8 bg-white rounded-xl shadow-xl border border-slate-200 section-card">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-6 border-b-4 border-blue-400 pb-3">My Data Philosophy</h2>
            <ul class="list-disc pl-8 text-lg md:text-xl text-slate-700 space-y-4">
                <li>
                    <strong class="text-blue-700">Data as a Living Asset:</strong> I believe data is not static, but a dynamic, evolving asset that requires thoughtful nurturing and continuous refinement to yield its true value.
                </li>
                <li>
                    <strong class="text-blue-700">Precision & Reliability:</strong> My approach emphasizes meticulous attention to data quality and integrity, ensuring that every piece of information is trustworthy and dependable.
                </li>
                <li>
                    <strong class="text-blue-700">Scalability & Efficiency:</strong> I am fascinated by designing systems that not only handle current data volumes but are also inherently scalable and optimized for future growth, making the most of available resources.
                </li>
                <li>
                    <strong class="text-blue-700">Empowering Insights:</strong> The ultimate goal of any data endeavor, in my view, is to empower users with clear, accessible, and meaningful insights that drive positive change.
                </li>
            </ul>
        </section>

        <!-- My Toolkit & Interests Section -->
        <section class="mb-12 p-8 bg-white rounded-xl shadow-xl border border-slate-200 section-card">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-8 border-b-4 border-blue-400 pb-3">My Toolkit & Interests</h2>
            <p class="text-lg md:text-xl text-slate-700 mb-8 leading-relaxed">
                My passion extends to the tools and methodologies that bring data to life. I thrive on exploring and mastering technologies that enable robust data solutions.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="relative p-6 pt-10 bg-blue-50 rounded-lg shadow-md border border-blue-200 hover:shadow-lg transition-shadow duration-300 ease-in-out">
                    <div class="icon-container absolute top-0 left-0 transform -translate-x-3/4 -translate-y-1/2 w-20 h-20 text-blue-600 border-2 border-blue-300">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-workflow"><path d="M5 8h14"/><path d="M5 16h14"/><path d="M11 12h-4"/><path d="M17 12h-2"/><path d="M11 8V6h3V8"/><path d="M11 16v2h3V16"/><path d="M17 16v2h3V16"/><path d="M17 8V6h3V8"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold text-blue-800 mb-2 mt-4">Data Orchestration & Pipelines</h3>
                    <p class="text-slate-700 leading-relaxed">
                        I enjoy building automated, resilient, and observable data pipelines that ensure seamless flow from source to consumption. The challenge of designing efficient data workflows, handling dependencies, and ensuring data freshness is particularly engaging.
                    </p>
                </div>
                <div class="relative p-6 pt-10 bg-blue-50 rounded-lg shadow-md border border-blue-200 hover:shadow-lg transition-shadow duration-300 ease-in-out">
                    <div class="icon-container absolute top-0 left-0 transform -translate-x-3/4 -translate-y-1/2 w-20 h-20 text-blue-600 border-2 border-blue-300">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-box"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-blue-800 mb-2 mt-4">Data Modeling & Architecture</h3>
                    <p class="text-slate-700 leading-relaxed">
                        Designing intuitive and and performant data models, whether for analytical or operational purposes, is a core interest. I'm passionate about crafting scalable data architectures that can evolve with changing business needs.
                    </p>
                </div>
                <div class="relative p-6 pt-10 bg-blue-50 rounded-lg shadow-md border border-blue-200 hover:shadow-lg transition-shadow duration-300 ease-in-out">
                    <div class="icon-container absolute top-0 left-0 transform -translate-x-3/4 -translate-y-1/2 w-20 h-20 text-blue-600 border-2 border-blue-300">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-blue-800 mb-2 mt-4">Cloud Data Platforms</h3>
                    <p class="text-slate-700 leading-relaxed">
                        Leveraging the power of cloud ecosystems for scalable and elastic data solutions excites me. I'm keen on optimizing cloud resources for cost-efficiency and performance in data processing and storage.
                    </p>
                </div>
                <div class="relative p-6 pt-10 bg-blue-50 rounded-lg shadow-md border border-blue-200 hover:shadow-lg transition-shadow duration-300 ease-in-out">
                    <div class="icon-container absolute top-0 left-0 transform -translate-x-3/4 -translate-y-1/2 w-20 h-20 text-blue-600 border-2 border-blue-300">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-blue-800 mb-2 mt-4">Code for Data</h3>
                    <p class="text-slate-700 leading-relaxed">
                        Writing clean, efficient, and maintainable code is fundamental to my approach. I appreciate the elegance of well-structured code that transforms, processes, and manages data effectively.
                    </p>
                </div>
            </div>
        </section>

        <!-- New Section: Data Engineering Lifecycle -->
        <section class="mb-12 p-8 bg-white rounded-xl shadow-xl border border-slate-200 section-card">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-8 border-b-4 border-blue-400 pb-3 text-center">The Data Engineering Lifecycle</h2>

            <div id="lifecycle-container" class="flex flex-wrap justify-center items-center gap-y-8 gap-x-4 relative">
                <!-- Single SVG for the animated path -->
                <svg id="flow-path-svg" class="absolute top-0 left-0 w-full h-full pointer-events-none" style="overflow: visible;">
                    <path id="flow-path" fill="none" stroke="#3b82f6" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path>
                    <!-- Moving arrow element with sharper tip -->
                    <polygon id="moving-arrow" points="0 0, 20 5, 0 10" fill="#3b82f6" transform-origin="center center"></polygon>
                </svg>
                <!-- Tiles will be dynamically inserted here by JavaScript -->
            </div>
        </section>

        <!-- Connect Section -->
        <section class="p-8 bg-white rounded-xl shadow-xl border border-slate-200 text-center section-card">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-8 border-b-4 border-blue-400 pb-3 inline-block">Let's Connect</h2>
            <p class="text-lg md:text-xl text-slate-700 mb-8">
                I'm always eager to discuss new ideas, explore data challenges, or simply connect with fellow data enthusiasts.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-6">
                <a href="https://github.com/shadaabsiddiqie" target="_blank" rel="noopener noreferrer"
                   class="inline-flex items-center px-8 py-4 bg-slate-800 text-white font-semibold rounded-lg shadow-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-opacity-75 transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-xl">
                    <svg class="w-7 h-7 mr-3" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.47.087.683-.23.683-.505 0-.247-.01-1.015-.016-1.994-2.775.602-3.36-1.34-3.36-1.34-.454-1.156-1.11-1.46-1.11-1.46-.908-.618.069-.606.069-.606 1.003.07 1.531 1.032 1.531 1.032.892 1.529 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.953 0-1.096.392-1.988 1.03-2.69-.104-.253-.448-1.274.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.376.202 2.398.098 2.65.649.702 1.03 1.594 1.03 2.69 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .276.213.596.687.501C21.133 20.203 24 16.447 24 12.017 24 6.484 19.522 2 14 2h-2z" clip-rule="evenodd" />
                    </svg>
                    GitHub
                </a>
                <a href="https://www.linkedin.com/in/shadaabsiddiqie/" target="_blank" rel="noopener noreferrer"
                   class="inline-flex items-center px-8 py-4 bg-blue-700 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-xl">
                    <svg class="w-7 h-7 mr-3" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M20.5 2h-17A2.5 2.5 0 001 4.5v15A2.5 2.5 0 003.5 22h17a2.5 2.5 0 002.5-2.5v-15A2.5 2.5 0 0020.5 2zM8 19H5v-9h3zm-1.5-9A1.5 1.5 0 115 8.5a1.5 1.5 0 011.5 1.5zm13 9h-3v-4.5c0-1.24-.02-2.83-1.72-2.83-1.73 0-2 1.34-2 2.75V19h-3V9h3v1.39h.04c.45-.85 1.56-1.72 3.42-1.72 3.66 0 4.34 2.41 4.34 5.59z" />
                    </svg>
                    LinkedIn
                </a>
            </div>
            <p class="text-lg md:text-xl text-slate-700 mt-8">
                You can also reach me directly at: <a href="mailto:shadaabsiddiqie@gmail.com" class="text-blue-600 hover:underline font-medium">shadaabsiddiqie@gmail.com</a>
            </p>
        </section>

        <!-- Footer -->
        <footer class="text-center mt-16 text-slate-500 text-sm">
            <p>&copy; 2025 Shadaab Siddiqie. Built with passion for data.</p>
        </footer>

    </div>

    <script>
        const dataEngineeringSteps = [
            { title: "Data Capture / Ingestion", description: "Passionately architecting the seamless flow of raw information from diverse origins into robust data ecosystems.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-download-cloud"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m8 17 4 4 4-4"/></svg>' },
            { title: "Streaming / Message Queueing", description: "Designing real-time conduits for instantaneous data flow, enabling agile responses and dynamic insights.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap"><path d="M4 14a1 1 0 0 1-.49-1.96l4-7.98a1 1 0 0 1 1.49-.02l4 7.98a1 1 0 0 1-.49 1.96l-4 7.98a1 1 0 0 1-1.49.02l-4-7.98Z"/><path d="M19 14a1 1 0 0 1-.49-1.96l4-7.98a1 1 0 0 1 1.49-.02l4 7.98a1 1 0 0 1-.49 1.96l-4 7.98a1 1 0 0 1-1.49.02l-4-7.98Z" style="transform: translateX(-12px);"/></svg>' },
            { title: "Preprocessing / Cleansing", description: "Meticulously refining and validating raw data, transforming it into a trustworthy foundation for analysis.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brush"><path d="m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.07 8.07zm-.72.72 7.24 7.25m-6.48-6.48 1.74 1.74"/></svg>' },
            { title: "Transformation / Processing", description: "Crafting elegant processes to reshape and enrich data, unlocking its full potential for meaningful insights.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-columns"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="12" x2="12" y1="3" y2="21"/></svg>' },
            { title: "Storage / Data Lake / Data Warehouse", description: "Strategically designing scalable repositories that ensure data is always accessible, organized, and optimized for its purpose.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12V19A9 3 0 0 0 21 19V12"/></svg>' },
            { title: "Cataloging / Metadata Management", description: "Building intuitive data discovery mechanisms, ensuring every data asset is well-documented and easily understood.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>' },
            { title: "Analytics / Query Layer", description: "Empowering users to explore and derive profound insights from complex datasets through efficient querying interfaces.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart-2"><line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/></svg>' },
            { title: "Monitoring / Observability", description: "Establishing vigilant systems to ensure data pipelines operate flawlessly, providing real-time visibility into data health.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>' },
            { title: "Security / Access Control", description: "Implementing robust safeguards to protect data integrity and privacy, ensuring secure and compliant access for all stakeholders.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>' },
            { title: "Serving Layer / APIs", description: "Delivering refined data through intuitive interfaces and APIs, making information readily available for applications and decision-makers.", iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share-2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>' }
        ];

        const container = document.getElementById('lifecycle-container');

        // Function to draw and animate the single flow path
        function drawFlowPath() {
            const pathElement = document.getElementById('flow-path');
            const movingArrow = document.getElementById('moving-arrow');
            const tiles = Array.from(document.querySelectorAll('.lifecycle-tile'));
            const containerRect = container.getBoundingClientRect();

            if (tiles.length === 0) {
                pathElement.setAttribute('d', ''); // Clear path if no tiles
                movingArrow.style.display = 'none';
                return;
            }

            let pathData = "";
            let prevIconCenterX, prevIconCenterY;
            const curveOffset = 30; // Offset for more pronounced curves

            tiles.forEach((tile, index) => {
                const iconContainer = tile.querySelector('.icon-container');
                if (!iconContainer) return;

                const iconRect = iconContainer.getBoundingClientRect();

                // Calculate center of the icon container relative to the lifecycle-container
                const currentIconCenterX = (iconRect.left + iconRect.right) / 2 - containerRect.left;
                const currentIconCenterY = (iconRect.top + iconRect.bottom) / 2 - containerRect.top;

                if (index === 0) {
                    pathData = `M ${currentIconCenterX} ${currentIconCenterY}`;
                } else {
                    const isHorizontal = Math.abs(prevIconCenterY - currentIconCenterY) < 60;

                    if (isHorizontal) {
                        const controlX = (prevIconCenterX + currentIconCenterX) / 2;
                        const controlY = prevIconCenterY + (index % 2 === 0 ? curveOffset : -curveOffset);
                        pathData += ` Q ${controlX} ${controlY}, ${currentIconCenterX} ${currentIconCenterY}`;
                    } else {
                        pathData += ` L ${currentIconCenterX} ${currentIconCenterY}`;
                    }
                }

                prevIconCenterX = currentIconCenterX;
                prevIconCenterY = currentIconCenterY;
            });

            pathElement.setAttribute('d', pathData);

            const totalLength = pathElement.getTotalLength();
            const segmentLength = 100; // Fixed length of the visible ray segment
            const animationDuration = 4800; // 4.8 seconds for one full cycle

            // This creates one visible segment of `segmentLength` and a gap that fills the rest of the path.
            pathElement.style.strokeDasharray = `${segmentLength} ${totalLength - segmentLength}`;

            let startTime;

            function animateFlow(currentTime) {
                if (!startTime) startTime = currentTime;
                const elapsed = currentTime - startTime;
                const progress = (elapsed % animationDuration) / animationDuration;

                // The stroke-dashoffset controls the starting point of the dash pattern.
                // We want the dash to move from the very left (offset 0) to fully off the right.
                // So, the offset should go from 0 to totalLength + segmentLength.
                const animatedOffset = progress * (totalLength + segmentLength);
                pathElement.style.strokeDashoffset = -animatedOffset; // Negative to move from left to right

                // The position of the arrow should be at the leading edge of the visible segment.
                // The leading edge is at `animatedOffset`.
                let arrowPathLength = animatedOffset;

                // Hide the arrow when it's off the path
                if (arrowPathLength < 0 || arrowPathLength > totalLength) {
                    movingArrow.style.display = 'none';
                } else {
                    movingArrow.style.display = 'block';
                    const point = pathElement.getPointAtLength(arrowPathLength);

                    // Manually calculate tangent for rotation
                    let prevPoint;
                    const delta = 0.1; // Small delta for tangent calculation
                    if (arrowPathLength - delta >= 0) {
                        prevPoint = pathElement.getPointAtLength(arrowPathLength - delta);
                    } else if (arrowPathLength + delta <= totalLength) { // If near start, look slightly ahead
                        prevPoint = pathElement.getPointAtLength(arrowPathLength + delta);
                    } else { // Very short path, default to horizontal
                        prevPoint = { x: point.x - 1, y: point.y };
                    }

                    const tangentX = point.x - prevPoint.x;
                    const tangentY = point.y - prevPoint.y;

                    const angle = Math.atan2(tangentY, tangentX) * 180 / Math.PI;

                    // Position the arrow. The polygon's tip is at (20, 5) in its own coordinate system.
                    // We translate it so its tip aligns with 'point'.
                    movingArrow.setAttribute('transform', `translate(${point.x - 20} ${point.y - 5}) rotate(${angle})`);
                }

                requestAnimationFrame(animateFlow);
            }

            // Start the animation only if there are tiles
            if (tiles.length > 0) {
                startTime = null; // Reset start time for new animation cycle
                requestAnimationFrame(animateFlow);
            }
        }

        // Dynamically add tiles
        dataEngineeringSteps.forEach((step, index) => {
            const tile = document.createElement('div');
            tile.className = 'relative w-full sm:w-[280px] p-6 pt-10 bg-blue-50 rounded-lg shadow-md border border-blue-200 hover:shadow-lg transition-shadow duration-300 ease-in-out flex flex-col items-start text-left lifecycle-tile';
            tile.innerHTML = `
                <div class="icon-container absolute top-0 left-0 transform -translate-x-3/4 -translate-y-1/2 w-20 h-20 text-blue-600 border-2 border-blue-300">
                    ${step.iconSvg}
                </div>
                <h3 class="text-xl font-semibold text-blue-800 mb-2 mt-4">${step.title}</h3>
                <p class="text-slate-700 text-sm leading-relaxed">${step.description}</p>
            `;
            container.appendChild(tile);
        });

        // Adjust SVG size within the icon-container after they are added to the DOM
        document.querySelectorAll('.icon-container svg').forEach(svg => {
            svg.setAttribute('width', '48');
            svg.setAttribute('height', '48');
        });

        // Initial call and on window resize
        window.addEventListener('load', drawFlowPath);
        window.addEventListener('resize', drawFlowPath);
    </script>
</body>
</html>